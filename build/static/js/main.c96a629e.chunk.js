(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{238:function(t,e,n){},385:function(t,e,n){"use strict";n.r(e);n(383);var c=n(204),i=(n(218),n(206)),s=(n(220),n(113)),o=(n(223),n(112)),r=(n(224),n(60)),a=(n(384),n(205)),l=(n(230),n(137)),d=n(143),u=n(144),j=n(147),h=n(146),b=(n(96),n(33)),m=(n(386),n(172)),f=n(0),O=n.n(f),p=n(16),x=n.n(p),g=(n(238),n(36)),k=n.n(g),v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,388)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),c(t),i(t),s(t),o(t)}))},S=(n(239),n(32)),y=n(14);m.a.RangePicker;function C(t){return Object(y.jsxs)(b.a,{onClick:t.onClick,type:"primary",block:!0,children:["+",t.value,"s"]})}function M(t){return Object(y.jsxs)(b.a,{onClick:t.onClick,block:!0,children:[t.value,"s"]})}function F(t){return Object(y.jsxs)(b.a,{onClick:t.onClick,type:"primary",block:!0,children:["+",t.value,"min"]})}function I(t){return Object(y.jsxs)(b.a,{onClick:t.onClick,type:"dashed",block:!0,children:[t.value,"min"]})}var D=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"renderSeconds",value:function(t){var e=this;return t>=0?Object(y.jsx)(C,{value:t,onClick:function(){return e.props.onClick(t)}}):Object(y.jsx)(M,{value:t,onClick:function(){return e.props.onClick(t)}})}},{key:"render",value:function(){return this.renderSeconds(this.props.time)}}]),n}(O.a.Component),w=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"renderMinutes",value:function(t){var e=this;return t>=0?Object(y.jsx)(F,{value:t,onClick:function(){return e.props.onClick(60*t)}}):Object(y.jsx)(I,{value:t,onClick:function(){return e.props.onClick(60*t)}})}},{key:"render",value:function(){return this.renderMinutes(this.props.time)}}]),n}(O.a.Component),H=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(d.a)(this,n),(c=e.call(this,t)).formRef=O.a.createRef(),c.comple=function(t){var e=localStorage.getItem("todo");if(null!=e){var n=JSON.parse(e);n[t-1].done=!0,c.setState({todoSource:n}),localStorage.setItem("todo",JSON.stringify(n))}},c.end=function(t){var e=localStorage.getItem("todo");if(null!=e){var n=JSON.parse(e),i=[];for(var s in n)n[s].id!=t&&i.push(n[s]);console.log("data:",i),c.setState({todoSource:i}),localStorage.setItem("todo",JSON.stringify(i))}},c.onFinish=function(t){console.log(t);var e=localStorage.getItem("todo");if(null!=e)var n=JSON.parse(e);else n=[];console.log("data:",n);var i={id:Object.keys(n).length+1,title:t.detail,done:!1,ddl:t.time};n.push(i),console.log("data:",n),console.log(typeof n),localStorage.setItem("todo",JSON.stringify(n)),c.setState({todoSource:n}),c.onReset()},c.onReset=function(){c.formRef.current.resetFields()},c.start=function(){console.log("start!"),console.log(c.state.timeSum);var t=c.state.timeSum;if(t>0&&0==c.state.counting){var e=k()().format();k()().add(t,"seconds");console.log(k()().toString()),console.log(e);var n=k.a.duration(t,"seconds");n.get("hours"),n.get("minutes"),n.get("seconds");c.setState({counting:!0,cur:t})}},c.resume=function(){var t=c.state.timeSum,e=Math.floor(t/3600),n=Math.floor(t/60),i=t%60;c.setState({cached:!1,hours:e,mins:n,ss:i})},c.reset=function(){if(!0===c.state.counting){var t=c.state.timeSum,e=Math.floor(t/3600),n=Math.floor(t/60),i=t%60;c.setState({cached:!0,counting:!1,cur:0,hours:e,mins:n,ss:i})}else if(!1===c.state.counting){c.setState({timeSum:0,cur:0,cached:!1,hours:0,mins:0,ss:0})}},c.stop=function(){var t=c.state.timeSum,e=Math.floor(t/3600),n=Math.floor(t/60),i=t%60;c.setState({cached:!0,counting:!1,old_hours:e,old_mins:n,old_ss:i})},c.state={timeSum:0,cur:0,counting:!1,hours:0,mins:0,ss:0,old_hours:0,old_mins:0,old_ss:0,start:0,end:0,cached:!1,todoSource:[]},c.todoColumns=[{title:"todo",dataIndex:"title",key:"title",ellipsis:!0},{title:"\u6b7b\u7ebf",dataIndex:"ddl",key:"ddl",width:"70px",render:function(t,e){var n=e.ddl;return[k()(n).subtract(1,"days").format("MM-DD").toString()===k()().format("MM-DD").toString()&&"\u660e\u5929"+k()(n).format("HH:mm").toString(),k()(n).format("MM-DD").toString()===k()().format("MM-DD").toString()&&"\u4eca\u5929"+k()(n).format("HH:mm").toString(),k()(n).subtract(1,"days").format("MM-DD").toString()>k()().format("MM-DD").toString()&&k()(n).format("MM-DD HH:mm").toString()]}},{title:"\u8fdb\u5c55",dataIndex:"done",key:"done",width:"50px",render:function(t,e){var n=e.done,i=e.id;return[!0===n&&Object(y.jsx)(b.a,{shape:"circle",onClick:function(){return c.end(i)},children:"\u5b8c"}),!1===n&&Object(y.jsx)(b.a,{shape:"circle",type:"primary",onClick:function(){return c.comple(i)},children:"\u672a"})]}}],c}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.load(),this.timerID=setInterval((function(){return t.tick()}),1e3)}},{key:"load",value:function(){var t=localStorage.getItem("todo");if(null!=t)var e=JSON.parse(t);else e=[];console.log("data:",e),this.setState({todoSource:e})}},{key:"clear",value:function(){if(null!=localStorage.getItem("todo"))var t=[];localStorage.setItem("todo",JSON.stringify(t)),this.setState({todoSource:t})}},{key:"onFinishFailed",value:function(t){console.log("Failed:",t)}},{key:"tick",value:function(){if(!0===this.state.counting){var t=this.state.cur;if(t>0){t-=1;var e=Math.floor(t/60),n=t%60;this.setState({cur:t,mins:e,ss:n})}else if(0==t&&1==this.state.counting){var c=this.state.timeSum,i=Math.floor(c/3600),s=Math.floor(c/60),o=c%60;window.Notification&&("granted"==Notification.permission?Notification.requestPermission((function(t){new Notification("\u65f6\u95f4\u5230\uff01",{body:s+"\u5206"+o+"\u79d2\u8ba1\u65f6\u7ed3\u675f"})})):(S.c.fail("Toast\uff01\u8be5\u6d4f\u89c8\u5668\u4e0d\u5141\u8bb8\u901a\u77e5!"+s+"\u5206"+o+"\u79d2\u8ba1\u65f6\u65f6\u95f4\u5230",2),l.b.error("Error\uff01\u8be5\u6d4f\u89c8\u5668\u4e0d\u5141\u8bb8\u901a\u77e5!"+s+"\u5206"+o+"\u79d2\u8ba1\u65f6\u65f6\u95f4\u5230"))),this.setState({counting:!1,cached:!0,old_hours:i,old_mins:s,old_ss:o})}}}},{key:"handleClick",value:function(t){var e=this.state.timeSum;e=e+t>=0?e+t:0;var n=Math.floor(e/3600),c=Math.floor(e/60),i=e%60;0==this.state.counting&&0==this.state.cached&&(this.setState({timeSum:e,hours:n,mins:c,ss:i}),console.log(typeof this.state.timeSum,this.state.timeSum),console.log(this.state.mins,this.state.ss))}},{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(a.a,{className:"site-page-header",onBack:function(){return null},title:"\u5e9f\u5b85\u517b\u809d\u5b9d",subTitle:"\u618b\u73a9\u4e86\uff0c\u5b66\u4e60\u53bb\u5427"}),Object(y.jsxs)(S.e,{size:"lg",children:[Object(y.jsx)(S.d,{}),Object(y.jsxs)(S.a,{children:[Object(y.jsx)(S.a.Header,{title:Object(y.jsx)("span",{children:"\u8fde\u809d\u8ba1\u65f6\u5668"}),thumb:Object(y.jsxs)("svg",{t:"1621233122743",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2395",width:"30",height:"30",children:[Object(y.jsx)("path",{d:"M472.32 562.3808m-393.4208 0a393.4208 393.4208 0 1 0 786.8416 0 393.4208 393.4208 0 1 0-786.8416 0Z",fill:"#80B7F9","p-id":"2396"}),Object(y.jsx)("path",{d:"M953.9072 499.8144c-18.6368-226.9696-199.6288-407.9616-426.5984-426.5984-20.9408-1.7408-38.7584 15.104-38.7072 36.096 0.2048 125.184 1.4336 256.1024 1.5872 393.1136 0.0512 19.9168 16.1792 36.096 36.096 36.096h391.5776c20.992 0 37.7344-17.8176 36.0448-38.7072z",fill:"#80B7F9","p-id":"2397"}),Object(y.jsx)("path",{d:"M488.7552 169.3696c0.4096 106.8544 1.28 217.7536 1.4336 333.056 0.0512 19.9168 16.1792 36.096 36.096 36.096h338.6368c-11.9808-200.7552-174.4384-360.8576-376.1664-369.152z",fill:"#3E8BF8","p-id":"2398"})]})}),Object(y.jsxs)(S.a.Body,{children:[Object(y.jsxs)(S.b,{justify:"center",children:[Object(y.jsx)(S.b.Item,{children:Object(y.jsx)(D,{time:10,onClick:function(e){return t.handleClick(e)}})}),Object(y.jsx)(S.b.Item,{children:Object(y.jsx)(D,{time:15,onClick:function(e){return t.handleClick(e)}})})]}),Object(y.jsxs)(S.b,{justify:"center",children:[Object(y.jsx)(S.b.Item,{children:Object(y.jsx)(D,{time:-10,onClick:function(e){return t.handleClick(e)}})}),Object(y.jsx)(S.b.Item,{children:Object(y.jsx)(D,{time:-15,onClick:function(e){return t.handleClick(e)}})})]}),Object(y.jsx)(S.d,{}),Object(y.jsxs)(S.b,{justify:"center",children:[Object(y.jsx)(S.b.Item,{children:Object(y.jsx)(w,{time:1,onClick:function(e){return t.handleClick(e)}})}),Object(y.jsx)(S.b.Item,{children:Object(y.jsx)(w,{time:5,onClick:function(e){return t.handleClick(e)}})}),Object(y.jsx)(S.b.Item,{children:Object(y.jsx)(w,{time:10,onClick:function(e){return t.handleClick(e)}})})]}),Object(y.jsxs)(S.b,{justify:"center",children:[Object(y.jsx)(S.b.Item,{children:Object(y.jsx)(w,{time:-1,onClick:function(e){return t.handleClick(e)}})}),Object(y.jsx)(S.b.Item,{children:Object(y.jsx)(w,{time:-5,onClick:function(e){return t.handleClick(e)}})}),Object(y.jsx)(S.b.Item,{children:Object(y.jsx)(w,{time:-10,onClick:function(e){return t.handleClick(e)}})})]}),Object(y.jsx)(S.d,{}),!0===this.state.counting&&Object(y.jsx)("div",{children:Object(y.jsxs)(o.a,{children:[Object(y.jsx)(r.a,{span:16,children:Object(y.jsxs)(b.a,{disabled:!0,block:!0,children:["\u5012\u8ba1\u65f6",this.state.mins,"'",this.state.ss,"''"]})}),Object(y.jsx)(r.a,{span:8,children:Object(y.jsx)(b.a,{block:!0,onClick:function(){return t.stop()},children:"\u505c\u6b62\u8ba1\u65f6"})})]})}),!1===this.state.counting&&!1===this.state.cached&&Object(y.jsx)("div",{children:Object(y.jsxs)(o.a,{children:[Object(y.jsx)(r.a,{span:16,children:Object(y.jsxs)(b.a,{onClick:function(){return t.start()},type:"primary",block:!0,children:[this.state.mins,"'",this.state.ss,"''\u5f00\u59cb\u8ba1\u65f6"]})}),Object(y.jsx)(r.a,{span:8,children:Object(y.jsx)(b.a,{onClick:function(){return t.reset()},block:!0,children:"\u91cd\u7f6e"})})]})}),!1===this.state.counting&&!0===this.state.cached&&Object(y.jsx)("div",{children:Object(y.jsxs)(o.a,{children:[Object(y.jsx)(r.a,{span:16,children:Object(y.jsxs)(b.a,{block:!0,onClick:function(){return t.resume()},type:"primary",children:["\u6fc0\u6d3b\u4e0a\u6b21\u8ba1\u65f6\u65f6\u957f ",this.state.old_mins,"'",this.state.old_ss,"''"]})}),Object(y.jsx)(r.a,{span:8,children:Object(y.jsx)(b.a,{block:!0,onClick:function(){return t.reset()},children:"\u91cd\u7f6e"})})]})})]})]}),Object(y.jsx)(S.d,{}),Object(y.jsxs)(S.a,{children:[Object(y.jsx)(S.a.Header,{title:Object(y.jsx)("span",{children:"todo\u5012\u8ba1\u65f6"}),thumb:Object(y.jsxs)("svg",{t:"1621233024225",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1829",width:"30",height:"30",children:[Object(y.jsx)("path",{d:"M713.3184 905.2672h-482.816c-73.5232 0-133.12-59.5968-133.12-133.12V267.4176c0-73.5232 59.5968-133.12 133.12-133.12h503.296c73.5232 0 133.12 59.5968 133.12 133.12v484.3008c0 84.7872-68.8128 153.5488-153.6 153.5488z",fill:"#80B7F9","p-id":"1830"}),Object(y.jsx)("path",{d:"M695.296 729.4464m-234.752 0a234.752 234.752 0 1 0 469.504 0 234.752 234.752 0 1 0-469.504 0Z",fill:"#80B7F9","p-id":"1831"}),Object(y.jsx)("path",{d:"M866.9184 757.6576v-188.5696c-42.8544-45.824-103.8336-74.5472-171.52-74.5472-129.6896 0-234.752 105.1136-234.752 234.752 0 70.0928 30.7712 132.9664 79.4624 175.9744h179.1488c81.5104 0 147.6608-66.0992 147.6608-147.6096z",fill:"#3E8BF8","p-id":"1832"}),Object(y.jsx)("path",{d:"M308.5824 230.5536c-21.76 0-39.3728-17.6128-39.3728-39.3728V97.6896c0-21.76 17.6128-39.3728 39.3728-39.3728s39.3728 17.6128 39.3728 39.3728v93.4912c0 21.7088-17.664 39.3728-39.3728 39.3728zM659.3024 230.5536c-21.76 0-39.3728-17.6128-39.3728-39.3728V97.6896c0-21.76 17.6128-39.3728 39.3728-39.3728s39.3728 17.6128 39.3728 39.3728v93.4912c0 21.7088-17.664 39.3728-39.3728 39.3728z",fill:"#80B7F9","p-id":"1833"}),Object(y.jsx)("path",{d:"M269.2096 134.2976v56.8832c0 21.76 17.6128 39.3728 39.3728 39.3728s39.3728-17.6128 39.3728-39.3728V134.2976H269.2096zM619.9296 134.2976v56.8832c0 21.76 17.6128 39.3728 39.3728 39.3728s39.3728-17.6128 39.3728-39.3728V134.2976h-78.7456z",fill:"#3E8BF8","p-id":"1834"}),Object(y.jsx)("path",{d:"M757.0944 371.2512H207.104c-22.6304 0-40.96-18.3296-40.96-40.96s18.3296-40.96 40.96-40.96h549.9904c22.6304 0 40.96 18.3296 40.96 40.96s-18.3296 40.96-40.96 40.96zM273.5104 559.7184H207.104c-22.6304 0-40.96-18.3296-40.96-40.96s18.3296-40.96 40.96-40.96h66.4064c22.6304 0 40.96 18.3296 40.96 40.96s-18.3296 40.96-40.96 40.96zM463.7184 559.7184H397.312c-22.6304 0-40.96-18.3296-40.96-40.96s18.3296-40.96 40.96-40.96h66.4064c22.6304 0 40.96 18.3296 40.96 40.96s-18.3808 40.96-40.96 40.96zM666.4704 838.4512c-11.1616 0-21.8112-4.5568-29.5424-12.5952l-65.4848-68.1984a40.93952 40.93952 0 0 1 1.1776-57.9072 40.93952 40.93952 0 0 1 57.9072 1.1776l35.0208 36.5056 93.6448-103.4752a40.96 40.96 0 0 1 57.856-2.8672 40.91904 40.91904 0 0 1 2.8672 57.856l-123.136 136.0384a40.96 40.96 0 0 1-29.7472 13.4656h-0.5632z",fill:"#FFFFFF","p-id":"1835"})]})}),Object(y.jsxs)(S.a.Body,{children:[Object(y.jsx)(s.a,{onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,ref:this.formRef,name:"basic",children:Object(y.jsxs)(o.a,{children:[Object(y.jsx)(r.a,{span:6,children:Object(y.jsx)(s.a.Item,{name:"time",placeholder:"\u6dfb\u52a0ToDo",children:Object(y.jsx)(m.a,{showTime:{format:"HH:mm"},format:"MM-DD HH:mm"})})}),Object(y.jsx)(r.a,{span:12,children:Object(y.jsx)(s.a.Item,{name:"detail",placeholder:"\u6dfb\u52a0ToDo",rules:[{required:!0,message:"Please input your todo!"}],children:Object(y.jsx)(i.a,{block:!0})})}),Object(y.jsx)(r.a,{span:6,children:Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(b.a,{type:"primary",htmlType:"submit",block:!0,children:"\u6dfb\u52a0"})})})]})}),Object(y.jsx)(S.b,{justify:"center",children:Object(y.jsx)(c.a,{dataSource:this.state.todoSource,columns:this.todoColumns})}),Object(y.jsx)(b.a,{onClick:function(){return t.clear()},type:"primary",children:"\u6e05\u7a7a\u7f13\u5b58"})]})]})]})]})}}]),n}(O.a.Component);x.a.render(Object(y.jsx)(H,{}),document.getElementById("root")),v()}},[[385,1,2]]]);
//# sourceMappingURL=main.c96a629e.chunk.js.map